{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '46111886-e1974f40af7d3aa808257f9c9';\n\nexport const fetchImages = async (query) => {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await axios.get(url);\n        const data = response.data;\n\n        return data.hits;\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Показ лоадера\nexport const showLoader = () => {\n    const loader = document.querySelector('.loader');\n    if (loader) loader.style.display = 'block';\n};\n\n// Приховання лоадера\nexport const hideLoader = () => {\n    const loader = document.querySelector('.loader');\n    if (loader) loader.style.display = 'none';\n};\n\n// Очищення галереї\nexport const clearGallery = () => {\n    const gallery = document.querySelector('.gallery');\n    if (gallery) gallery.innerHTML = '';\n};\n\n// Рендер зображень\nexport const renderImages = (images) => {\n    const gallery = document.querySelector('.gallery');\n\n    const markup = images\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                    <div class=\"info\">\n                        <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n                        <p class=\"info-item\"><b>Views:</b> ${views}</p>\n                        <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n                        <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n                    </div>\n                </a>\n            </li>\n        `)\n        .join('');\n  \n    gallery.insertAdjacentHTML('beforeend', markup);\n};\n\n// Показ помилки\nexport const showError = (message) => {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n        timeout: 2000,\n        backgroundColor: '#EF4040',\n        closeOnClick: true,\n    });\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n    renderImages,\n    showError,\n    showLoader,\n    hideLoader,\n    clearGallery\n} from './js/render-functions.js';\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\nconst lightbox = new SimpleLightbox('.gallery a');\n\n// Обробка події submit форми пошуку\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const query = event.target.elements.query.value.trim();\n    if (!query) {\n        showError('Please enter a search term.');\n        hideLoader();\n        return;\n    }\n\n    showLoader();\n    clearGallery();\n\n    fetchImages(query)\n        .then(images => {\n            console.log('Images received', images);\n            if (images.length === 0) {\n                showError('Sorry, there are no images matching your search query. Please try again!');\n            } else {\n                renderImages(images);\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log('Error:', error);\n            showError(error.message);\n        })\n        .finally(() => {\n            setTimeout(() => {\n                hideLoader();\n            }, 500);\n        });\n});\n"],"names":["API_KEY","fetchImages","query","url","axios","error","showLoader","loader","hideLoader","clearGallery","gallery","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showError","message","iziToast","form","lightbox","SimpleLightbox","event"],"mappings":"owBAEA,MAAMA,EAAU,qCAEHC,EAAc,MAAOC,GAAU,CACxC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAK,CAAC,2DAElF,GAAI,CAIA,OAHiB,MAAME,EAAM,IAAID,CAAG,GACd,KAEV,IACf,OAAQE,EAAO,CACZ,cAAQ,MAAMA,CAAK,EACbA,CACT,CACL,ECZaC,EAAa,IAAM,CAC5B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,IAAQA,EAAO,MAAM,QAAU,QACvC,EAGaC,EAAa,IAAM,CAC5B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,IAAQA,EAAO,MAAM,QAAU,OACvC,EAGaE,EAAe,IAAM,CAC9B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC7CA,IAASA,EAAQ,UAAY,GACrC,EAGaC,EAAgBC,GAAW,CACpC,MAAMF,EAAU,SAAS,cAAc,UAAU,EAE3CG,EAASD,EACV,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2BAEhEL,CAAa;AAAA,sDACcD,CAAY,UAAUE,CAAI;AAAA;AAAA,6DAEnBC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,iEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAIjE,EACA,KAAK,EAAE,EAEZV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,EAGaQ,EAAaC,GAAY,CAClCC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,EACtB,CAAK,CACL,ECxCME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAW,IAAIC,EAAe,YAAY,EAGhDF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMzB,EAAQyB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAI,CAACzB,EAAO,CACRmB,EAAU,6BAA6B,EACvCb,IACA,MACH,CAEDF,IACAG,IAEAR,EAAYC,CAAK,EACZ,KAAKU,GAAU,CACZ,QAAQ,IAAI,kBAAmBA,CAAM,EACjCA,EAAO,SAAW,EAClBS,EAAU,0EAA0E,GAEpFV,EAAaC,CAAM,EACnBa,EAAS,QAAO,EAEhC,CAAS,EACA,MAAMpB,GAAS,CACZ,QAAQ,IAAI,SAAUA,CAAK,EAC3BgB,EAAUhB,EAAM,OAAO,CACnC,CAAS,EACA,QAAQ,IAAM,CACX,WAAW,IAAM,CACbG,GACH,EAAE,GAAG,CAClB,CAAS,CACT,CAAC"}